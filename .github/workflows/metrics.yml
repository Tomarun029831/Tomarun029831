name: Metrics
on:
  # æ¯é€±æœˆæ›œ æœ9æ™‚æ›´æ–°
  schedule: [{cron: "0 0 * * 1"}]
  workflow_dispatch:
  push: {branches: ["master", "main"]}

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # === å¿…é ˆè¨­å®š ===
          token: ${{ secrets.METRICS_TOKEN }}
          committer_token: ${{ secrets.GITHUB_TOKEN }}
          user: Tomarun029831
          template: classic
          config_timezone: Asia/Tokyo
          
          # === 0. åŸºæœ¬ãƒ‡ãƒ¼ã‚¿ (å…¨éƒ¨å…¥ã‚Š) ===
          base: header, activity, community, repositories, metadata
          base_indepth: yes           # è©³ç´°åˆ†æãƒ¢ãƒ¼ãƒ‰

          # === 1. è¨€èª (éš ã•ãšå…¨éƒ¨å‡ºã™) ===
          plugin_languages: yes
          # ignored (é™¤å¤–ãƒªã‚¹ãƒˆ) ã¯å‰Šé™¤ã—ã¾ã—ãŸï¼HTMLãªã©ã‚‚å…¨ã¦è¡¨ç¤ºã•ã‚Œã¾ã™
          plugin_languages_limit: 0   # è¡¨ç¤ºæ•°ã®åˆ¶é™ãªã—ï¼ˆå…¨éƒ¨å‡ºã™ï¼‰
          plugin_languages_threshold: 0% # è¶³åˆ‡ã‚Šãªã—ï¼ˆ0%ã§ã‚‚å‡ºã™ï¼‰
          plugin_languages_details: lines, percentage, bytes-size
          plugin_languages_sections: most-used, recently-used
          plugin_languages_indepth: yes

          # === 2. è©³ç´°ãªæ´»å‹•å±¥æ­´ ===
          plugin_followup: yes        # Issue/PRã®å¯¾å¿œçŠ¶æ³
          plugin_followup_indepth: yes
          plugin_followup_sections: repositories, user
          
          plugin_isocalendar: yes     # 3Dã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
          plugin_isocalendar_duration: full-year # åŠå¹´ã˜ã‚ƒãªã1å¹´åˆ†å‡ºã™

          plugin_lines: yes           # ã‚³ãƒ¼ãƒ‰å¢—æ¸›ã®æ­´å²
          plugin_lines_history_limit: 5
          plugin_lines_repositories_limit: 10
          
          plugin_habits: yes          # ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç¿’æ…£
          plugin_habits_from: 200     # éå»200ã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰åˆ†æ
          plugin_habits_days: 14      # ç›´è¿‘14æ—¥é–“
          plugin_habits_facts: yes
          plugin_habits_charts: yes

          # === 3. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ»è©•åˆ¤ ===
          plugin_achievements: yes    # å®Ÿç¸¾ãƒãƒƒã‚¸
          plugin_achievements_display: detailed # ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã˜ã‚ƒãªãè©³ç´°è¡¨ç¤º
          plugin_achievements_threshold: X      # ãƒ©ãƒ³ã‚¯X(å…¨è¡¨ç¤º)

          plugin_stars: yes           # ã‚ãªãŸãŒã‚¹ã‚¿ãƒ¼ã—ãŸãƒªãƒã‚¸ãƒˆãƒª
          plugin_stars_limit: 10
          
          plugin_stargazers: yes      # ã‚ãªãŸã¸ã®ã‚¹ã‚¿ãƒ¼æ¨ç§»
          plugin_stargazers_charts: yes
          
          plugin_people: yes          # ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼
          plugin_people_limit: 50     # é™ç•Œã¾ã§è¡¨ç¤º
          plugin_people_size: 28
          plugin_people_types: followers, following

          plugin_reactions: yes       # ã‚‚ã‚‰ã£ãŸãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³(ğŸ‘ãªã©)
          plugin_reactions_limit: 100
          
          plugin_discussions: yes     # ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³æ´»å‹•
          plugin_discussions_categories: yes

          # === 4. ãƒªãƒã‚¸ãƒˆãƒªåˆ†æ ===
          plugin_licenses: yes        # ä½¿ã£ã¦ã„ã‚‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®å‚¾å‘
          plugin_licenses_setup: npm, monitor

          plugin_notable: yes         # çµ„ç¹”ã¸ã®è²¢çŒ®
          plugin_notable_from: all
          
          plugin_topics: yes          # ã‚¹ã‚¿ãƒ¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯å‚¾å‘
          plugin_topics_sort: stars
          plugin_topics_limit: 0      # åˆ¶é™ãªã—

          plugin_traffic: yes         # ã‚¢ã‚¯ã‚»ã‚¹æ•°ï¼ˆè¦:æ¨©é™ï¼‰
          
          plugin_repositories: yes    # ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§
          plugin_repositories_order: featured, pinned, starred, random
          plugin_repositories_pinned: 6

          # === 5. ãã®ä»– ===
          plugin_introduction: yes    # è‡ªå·±ç´¹ä»‹æ–‡
          plugin_introduction_title: yes
          
          plugin_gists: yes           # Gistã®è¡¨ç¤º
